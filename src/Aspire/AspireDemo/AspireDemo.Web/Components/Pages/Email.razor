@page "/custom-email"

@rendermode InteractiveServer

<PageTitle>Email</PageTitle>

<FluentLayout>
    <FluentHeader>MailDev/MailKit</FluentHeader>

    <FluentStack Orientation="Orientation.Vertical">
        <FluentAnchor Href="https://github.com/marqdouj/Marqdouj.MailDev" Target="_blank" IconStart="@(new Icons.Regular.Size20.Globe())">
            Project Website
        </FluentAnchor>

        <FluentLabel Typo="Typography.H3">This page demonstrates a custom email component that allows users to subscribe to a newsletter.</FluentLabel>
        <FluentLabel Typo="Typography.H5">NOTE: Open up the 'MailDev' resource to view emails</FluentLabel>

        <br />

        <FluentLabel>@subscribedMessage</FluentLabel>
        <Newsletter SubscribeChanged="@OnSubscribeChanged" />
    </FluentStack>
</FluentLayout>

<FluentStack Orientation="Orientation.Vertical">

</FluentStack>

@code {
    private bool subscribed;
    private string subscribedMessage => subscribed ? "Thank you for subscribing to our newsletter." : "Please subscribe to our newsletter.";

    private void OnSubscribeChanged(bool value)
    {
        subscribed = value;
        StateHasChanged();
    }
}
